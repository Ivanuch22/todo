const input=document.querySelector(".block-input"),button=document.querySelector("button"),block=document.querySelector(".block-top");let id=0,arrayGlobal=[];button.addEventListener("click",e=>{e.preventDefault(),input.value&&(id++,addNewTask(input.value,id),setLocalStorageInput(input.value,id),chageLocalValue(),input.value="")}),addNewTask=(e,a=0,t=!1)=>{const l=document.createElement("div");l.classList.add("block-line"),l.innerHTML=`\n    <div class="block-checkbox">\n        ${t?`<input  type="checkbox" checked id = "${a}">`:`<input  type="checkbox" id = "${a}">`}\n    </div>\n    <p class="block-title">${e} </p>\n    `,block.append(l)},setLocalStorageInput=(e,a,t=!1)=>{arrayGlobal.push({name:e,id:a,value:t}),localStorage.setItem("task",JSON.stringify(arrayGlobal))},getLocalStorageInput=()=>{let e=localStorage.getItem("task");return e=JSON.parse(e),e?(e.forEach(e=>{id=e.id}),arrayGlobal.push(...e),arrayGlobal.forEach(e=>{const{name:a,id:t,value:l}=e;addNewTask(a,t,l)})):arrayGlobal=[],e},getLocalStorageInput(),chageLocalValue=()=>{document.querySelectorAll("input[type= checkbox]").forEach((e,a)=>{e.addEventListener("click",e=>{console.log("Hello"),e.target.checked,changeValue(a)})}),changeValue=e=>{let a=localStorage.getItem("task");a=JSON.parse(a),a[e].value=!a[e].value,localStorage.setItem("task",JSON.stringify(a))}},chageLocalValue();